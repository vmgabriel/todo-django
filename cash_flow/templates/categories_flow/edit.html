{% extends 'content.html' %}

{% block container %}
  <div class="container" style="margin-top: 3em;">
    <a href="{% url 'cash_flow:categories'  %}">
      <i class="material-icons">arrow_back</i>
    </a>

    <div class="card-panel">
      <div class="row" style="display: inline-flex;">
        <h2>{% if mode == "Save" %}New{% else %}Edit{% endif %} Flow Category</h2>
      </div>

      <form method="post" class="col s12" style="padding-bottom: 2em;">
        {% csrf_token %}
        <div class="row">
          <div class="input-field col s12">
            {{ form.name }}
            <label for="name">{{ form.name.label }}</label>
            {% if form.name.errors %}
              {% for error in form.name.errors %}
                <p style="color: red">{{ error }}</p>
              {% endfor %}
            {% endif %}
          </div>
          <div class="input-field col s12">
            {{ form.description }}
            <label for="description">{{ form.description.label }}</label>
            {% if form.description.errors %}
              {% for error in form.description.errors %}
                <p style="color: red">{{ error }}</p>
              {% endfor %}
            {% endif %}
          </div>
          <div class="input-field col s12">
            {{ form.color }}
            <label for="color">{{ form.color.label }}</label>
            {% if form.color.errors %}
              {% for error in form.imagcolor.errors %}
                <p style="color: red">{{ error }}</p>
              {% endfor %}
            {% endif %}
          </div>
            <div class="input-field col s12">
                {{ form.parent_category }}
                <label for="color">{{ form.parent_category.label }}</label>
                {% if form.parent_category.errors %}
                    {% for error in form.parent_category.errors %}
                        <p style="color: red">{{ error }}</p>
                    {% endfor %}
                {% endif %}
            </div>
            <div class="input-field col s12">
                {{ form.type_flow }}
                <label for="color">{{ form.type_flow.label }}</label>
                {% if form.type_flow.errors %}
                    {% for error in form.type_flow.errors %}
                        <p style="color: red">{{ error }}</p>
                    {% endfor %}
                {% endif %}
            </div>
            <div class="input-field col s12">
                {{ form.state_flow }}
                <label for="color">{{ form.state_flow.label }}</label>
                {% if form.state_flow.errors %}
                    {% for error in form.state_flow.errors %}
                        <p style="color: red">{{ error }}</p>
                    {% endfor %}
                {% endif %}
            </div>
        </div>
        <div class="col s12 right-align">
            <a href={% if mode == "Save" %}"{% url 'cash_flow:new_category'  %}"{% else %}"{% url 'cash_flow:edit_category' pk=object.pk  %}"{% endif %} class="btn waves-effect waves-red btn-large blue">
                <i class="material-icons">cancel</i>
            </a>
            <button type="submit" class="waves-effect waves-light btn-large">
                {% if mode == "Save" %}
                    <i class="material-icons">save</i>
                {% else %}
                    <i class="material-icons">edit</i>
                {% endif %}
            </button>
        </div>
      </form>
    </div>
  </div>
  {% endblock container %}
